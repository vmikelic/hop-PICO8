pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
-- include statements
#include animation.lua
#include intro.lua
#include mouse.lua
#include player.lua
#include vector.lua
#include level.lua

-->8
-- init

delta_t = 1.0/60.0;

--play_intro()
init_mouse()

-->8
-- update
function _update60()

if(mouse_left_init) then
    player_vars.player_status = 2;
    player_vars.slash_speed = 0.3*vector_length(vector(player_vars.velocity_x,player_vars.velocity_y));
end
handle_slash()
update_player_movement()
player_check_goal()
update_mouse()

end
-->8
-- draw
function _draw()

cls(1)
draw_level()
draw_player()
print('E/S/D/F to move',2,2,7)
print(vector_length(vector(player_vars.velocity_x,player_vars.velocity_y)),2+6,2+6,12)
print('left click to slash',2+6,127-10,11)
print('Hold left shift to hop',2+6,127-4,3)
handle_animations()
draw_mouse()

end

__gfx__
ccccccc5555ccccc00000000000000000020200044460000444600000100000077777777bbbbbbbb090909094444444400000000000000000000000000000000
cccccc555555cccc0000000000202000022022005f2f0000f5f200001710000070000707b0b0000b900000004455554400000000000000000000000000000000
ccccc55555155ccc222022202220222022000220ffff0000ffff00001771000070000707b0b0000b000000094546645400000000000000000000000000000000
ccccc55511111ccc000000000000000000000000feff0000ffef00001777100070000707b0b0000b900000004564465400000000000000000000000000000000
cccc55555ddd55cc00000000000000000000000000000000000000001777710000000707b0b00000000000094564465400000000000000000000000000000000
cccc5d55555555cc00000000000000000000000000000000000000001771100000000707b0b00000900000004546645400000000000000000000000000000000
ccc55555ddddd5cc00000000000000000000000000000000000000000117100000000707b0b00000000000094455554400000000000000000000000000000000
cc55555dddddddcc00000000000000000000000000000000000000000000000000000707b0b00000909090904444444400000000000000000000000000000000
c555155d11111d1c01111000177710001111100070700000070700000070700000000707b0b00000000000000000000000000000000000000000000000000000
c555511d11111d1c00000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
c555551d55555d1c00000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
c555555ddd1d1d1c00000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
c55555d5dddddd1c00000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
555555d5ddddd51c00000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
555555dd5555511c00000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
555555ddddddd11c00000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000707b0b00000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000070000707b0b0000b000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000070000707b0b0000b000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000070000707b0b0000b000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000077777777bbbbbbbb000000000000000000000000000000000000000000000000
